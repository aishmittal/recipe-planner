(function() {
    'use strict';
    webapp.controller('RecipeDetailsController', [
        '$scope',
        '$rootScope',
        '$log',
        '$timeout',
        '$location',
        '$q',
        '$http',
        '$window',
        '$routeParams',
        'UtilService',
        'ngProgressBarService',
        function($scope, $rootScope, $log, $timeout, $location, $q,$http,$window,$routeParams,UtilService,ngProgressBarService) {

            $scope.id=$routeParams.id;
            $scope.noResponse=false;
            function getRecipe(){
                $rootScope.$broadcast('showProgressbar');
                var params=UtilService.APIparams;
                var apiBase="https://api.yummly.com/v1/api/";
                var queryString=apiBase+'recipe/'+$routeParams.id;
                $http({
                    method:'GET',
                    url: queryString,
                    headers:params})
                .then(function(response) {
                    $rootScope.$broadcast('endProgressbar');
                    $scope.recipe= response.data;
                }, function(error) {
                   $rootScope.$broadcast('endProgressbar');
                   $scope.noResponse=true;
                   $scope.recipe = {};
                });
           //$scope.recipe ={"yield":"serves 4","nutritionEstimates":[{"attribute":"FAT_KCAL","description":null,"value":50.00,"unit":{"id":"fea252f8-9888-4365-b005-e2c63ed3a776","name":"calorie","abbreviation":"kcal","plural":"calories","pluralAbbreviation":"kcal","decimal":true}},{"attribute":"K","description":"Potassium, K","value":0.04,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FLD","description":"Fluoride, F","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"PHYSTR","description":"Phytosterols","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"SITSTR","description":"Beta-sitosterol","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D1C","description":"18:1 c","value":1.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D2CN6","description":"18:2 n-6 c,c","value":0.14,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FASAT","description":"Fatty acids, total saturated","value":3.62,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"STARCH","description":"Starch","value":43.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FOLDFE","description":"Folate, DFE","value":61.88,"unit":{"id":"4d783ee4-aa07-4958-84bf-3f4b528049dc","name":"mcg_DFE","abbreviation":"mcg_DFE","plural":"mcg_DFE","pluralAbbreviation":"mcg_DFE","decimal":false}},{"attribute":"MN","description":"Manganese, Mn","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F12D0","description":"12:0","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"ALC","description":"Alcohol, ethyl","value":3.40,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"GLUS","description":"Glucose (dextrose)","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"ARG_G","description":"Arginine","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F16D1","description":"16:1 undifferentiated","value":0.07,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D1T","description":"18:1 t","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FOLFD","description":"Folate, food","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FE","description":"Iron, Fe","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"ENERC_KJ","description":"Energy","value":687.18,"unit":{"id":"fea252f8-9888-4365-b005-e2c63ed3a776","name":"calorie","abbreviation":"kcal","plural":"calories","pluralAbbreviation":"kcal","decimal":true}},{"attribute":"VITB6A","description":"Vitamin B-6","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F4D0","description":"4:0","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"ASP_G","description":"Aspartic acid","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FRUS","description":"Fructose","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"TOCPHA","description":"Vitamin E (alpha-tocopherol)","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"WATER","description":"Water","value":209.19,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F8D0","description":"8:0","value":0.07,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"RETOL","description":"Retinol","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"SUGAR","description":"Sugars, total","value":0.02,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F6D0","description":"6:0","value":0.14,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FAMS","description":"Fatty acids, total monounsaturated","value":1.49,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"ASH","description":"Ash","value":0.15,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"SE","description":"Selenium, Se","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FIBTG","description":"Fiber, total dietary","value":0.04,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"PROCNT","description":"Protein","value":1.26,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CHOCDF","description":"Carbohydrate, by difference","value":20.49,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FOL","description":"Folate, total","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"VITK","description":"Vitamin K (phylloquinone)","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D0","description":"18:0","value":0.71,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CHOLE","description":"Cholesterol","value":0.02,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F17D0","description":"17:0","value":0.07,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CU","description":"Copper, Cu","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"P","description":"Phosphorus, P","value":0.04,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"PANTAC","description":"Pantothenic acid","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CHOLN","description":"Choline, total","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F10D0","description":"10:0","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CA","description":"Calcium, Ca","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"MG","description":"Magnesium, Mg","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FAPU","description":"Fatty acids, total polyunsaturated","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F14D0","description":"14:0","value":0.50,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"VITA_RAE","description":"Vitamin A, RAE","value":48.56,"unit":{"id":"0fcf76b3-891a-403d-883f-58c8809ef151","name":"mcg_RAE","abbreviation":"mcg_RAE","plural":"mcg_RAE","pluralAbbreviation":"mcg_RAE","decimal":false}},{"attribute":"NIA","description":"Niacin","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"GLU_G","description":"Glutamic acid","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F16D0","description":"16:0","value":1.56,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D1","description":"18:1 undifferentiated","value":1.42,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F18D2","description":"18:2 undifferentiated","value":0.21,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FOLAC","description":"Folic acid","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"SUCS","description":"Sucrose","value":0.01,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"CARTB","description":"Carotene, beta","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"F16D1C","description":"16:1 c","value":0.07,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"VITA_IU","description":"Vitamin A, IU","value":177.43,"unit":{"id":"ed46fe0c-44fe-4c1f-b3a8-880f92e30930","name":"IU","abbreviation":"IU","plural":"IU","pluralAbbreviation":"IU","decimal":true}},{"attribute":"ENERC_KCAL","description":"Energy","value":164.02,"unit":{"id":"fea252f8-9888-4365-b005-e2c63ed3a776","name":"calorie","abbreviation":"kcal","plural":"calories","pluralAbbreviation":"kcal","decimal":true}},{"attribute":"VITC","description":"Vitamin C, total ascorbic acid","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"FAT","description":"Total lipid (fat)","value":5.75,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"PRO_G","description":"Proline","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"VITD-","description":"Vitamin D","value":4.26,"unit":{"id":"ed46fe0c-44fe-4c1f-b3a8-880f92e30930","name":"IU","abbreviation":"IU","plural":"IU","pluralAbbreviation":"IU","decimal":true}},{"attribute":"ZN","description":"Zinc, Zn","value":0.00,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}},{"attribute":"NA","description":"Sodium, Na","value":0.05,"unit":{"id":"12485d26-6e69-102c-9a8a-0030485841f8","name":"gram","abbreviation":"g","plural":"grams","pluralAbbreviation":"grams","decimal":true}}],"totalTime":"30 min","images":[{"hostedSmallUrl":"https://lh3.googleusercontent.com/zBwvvLqbVvNPkW4XB6mh_2tykWjRt_6XqdIkyC3cqCCAnRW3JQuGJVAfWlrSVLIgFlcqtFvVJ0BSHmQV9apLMKA=s90","hostedMediumUrl":"https://lh3.googleusercontent.com/zBwvvLqbVvNPkW4XB6mh_2tykWjRt_6XqdIkyC3cqCCAnRW3JQuGJVAfWlrSVLIgFlcqtFvVJ0BSHmQV9apLMKA=s180","hostedLargeUrl":"https://lh3.googleusercontent.com/zBwvvLqbVvNPkW4XB6mh_2tykWjRt_6XqdIkyC3cqCCAnRW3JQuGJVAfWlrSVLIgFlcqtFvVJ0BSHmQV9apLMKA=s360","imageUrlsBySize":{"90":"https://lh3.googleusercontent.com/LgLfY9xX9_nTQH05RtHfHoEM9QZX3-immby-7vzstWUll5SVPqygvrfF-klD4u30al6FjNm2xqORWgKBeyARbg=s90-c","360":"https://lh3.googleusercontent.com/LgLfY9xX9_nTQH05RtHfHoEM9QZX3-immby-7vzstWUll5SVPqygvrfF-klD4u30al6FjNm2xqORWgKBeyARbg=s360-c"}}],"name":"Beer Rice","source":{"sourceDisplayName":"Plain Chicken","sourceSiteUrl":"plainchicken.com","sourceRecipeUrl":"http://www.plainchicken.com/2016/02/beer-rice.html"},"id":"Beer-Rice-1513186","ingredientLines":["2 Tbsp butter","1 1/4 cup rice, uncooked","1 (12-oz) beer","1 1/4 cup water","1/2 tsp onion powder"],"attribution":{"html":"<a href='http://www.yummly.com/recipe/Beer-Rice-1513186'>Beer Rice recipe</a> information powered by <img alt='Yummly' src='http://static.yummly.com/api-logo.png'/>","url":"http://www.yummly.com/recipe/Beer-Rice-1513186","text":"Beer Rice recipes: information powered by Yummly","logo":"http://static.yummly.com/api-logo.png"},"numberOfServings":4,"totalTimeInSeconds":1800,"attributes":{"course":["Side Dishes"]},"flavors":{"Piquant":0.0000,"Meaty":0.1667,"Bitter":0.1667,"Sweet":0.0000,"Sour":0.0000,"Salty":0.1667},"rating":4};
       }
       getRecipe(null);
           

      }
      ]);
})();            